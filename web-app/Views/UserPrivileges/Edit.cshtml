@model web_app.Models.EditUserPrivilegesViewModel

@{
    ViewData["Title"] = "Edit User Privileges";
}

<h1>Edit User Privileges</h1>

<h4>User: @Model.User.Username</h4>

<form asp-action="Edit">
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
    <input type="hidden" asp-for="User.Id" />

    <div class="form-group">
        <label>Privileges</label>
        <div>
        @foreach (var privilege in Model.AllPrivileges)
        {
            <div class="form-check">
                <input type="checkbox" class="form-check-input" name="AssignedPrivileges" value="@privilege.Id" @(Model.AssignedPrivileges.Contains(privilege.Id) ? "checked" : "") />
                <label class="form-check-label">@privilege.Description</label>
            </div>
        }
        </div>
    </div>
    
    <div class="form-group">
        <button type="submit" class="btn btn-primary">Save</button>
    </div>
</form>